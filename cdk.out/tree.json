{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"videoShareAppStack":{"id":"videoShareAppStack","path":"videoShareAppStack","children":{"VideoTable":{"id":"VideoTable","path":"videoShareAppStack/VideoTable","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/VideoTable/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"userId","attributeType":"S"},{"attributeName":"uploadedTime","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"byUserId","keySchema":[{"attributeName":"userId","keyType":"HASH"},{"attributeName":"uploadedTime","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"id","keyType":"HASH"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.189.1"}},"ScalingRole":{"id":"ScalingRole","path":"videoShareAppStack/VideoTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.189.1","metadata":[]}},"UploadBucket":{"id":"UploadBucket","path":"videoShareAppStack/UploadBucket","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/UploadBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.189.1"}},"Notifications":{"id":"Notifications","path":"videoShareAppStack/UploadBucket/Notifications","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/UploadBucket/Notifications/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.189.1"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"AllowBucketNotificationsTovideoShareAppStackS3EventListener94BE8AF8":{"id":"AllowBucketNotificationsTovideoShareAppStackS3EventListener94BE8AF8","path":"videoShareAppStack/UploadBucket/AllowBucketNotificationsTovideoShareAppStackS3EventListener94BE8AF8","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["S3EventListener9ABBC036","Arn"]},"principal":"s3.amazonaws.com","sourceAccount":{"Ref":"AWS::AccountId"},"sourceArn":{"Fn::GetAtt":["UploadBucketD2C1DA78","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.189.1","metadata":[]}},"MediaConvertRole":{"id":"MediaConvertRole","path":"videoShareAppStack/MediaConvertRole","children":{"ImportMediaConvertRole":{"id":"ImportMediaConvertRole","path":"videoShareAppStack/MediaConvertRole/ImportMediaConvertRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/MediaConvertRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"mediaconvert.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.189.1"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"videoShareAppStack/MediaConvertRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/MediaConvertRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UploadBucketD2C1DA78","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadBucketD2C1DA78","Arn"]},"/*"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["StreamBucketB0BF20E3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["StreamBucketB0BF20E3","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"MediaConvertRoleDefaultPolicy03164485","roles":[{"Ref":"MediaConvertRole031A64A9"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.189.1","metadata":[]}},"StreamBucket":{"id":"StreamBucket","path":"videoShareAppStack/StreamBucket","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/StreamBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"publicAccessBlockConfiguration":{"blockPublicAcls":false,"blockPublicPolicy":false,"ignorePublicAcls":false,"restrictPublicBuckets":false}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.189.1"}},"Policy":{"id":"Policy","path":"videoShareAppStack/StreamBucket/Policy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/StreamBucket/Policy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"StreamBucketB0BF20E3"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["StreamBucketB0BF20E3","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.189.1","metadata":[]}},"Domain":{"id":"Domain","path":"videoShareAppStack/Domain","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/Domain/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchService::Domain","aws:cdk:cloudformation:props":{"clusterConfig":{"dedicatedMasterEnabled":false,"instanceCount":1,"instanceType":"t3.small.search","zoneAwarenessEnabled":false},"domainEndpointOptions":{"enforceHttps":false,"tlsSecurityPolicy":"Policy-Min-TLS-1-0-2019-07"},"ebsOptions":{"ebsEnabled":true,"volumeSize":10,"volumeType":"gp2"},"encryptionAtRestOptions":{"enabled":false},"engineVersion":"OpenSearch_2.3","logPublishingOptions":{},"nodeToNodeEncryptionOptions":{"enabled":false}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchservice.CfnDomain","version":"2.189.1"}},"AccessPolicy":{"id":"AccessPolicy","path":"videoShareAppStack/Domain/AccessPolicy","children":{"Provider":{"id":"Provider","path":"videoShareAppStack/Domain/AccessPolicy/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/Domain/AccessPolicy/Resource","children":{"Default":{"id":"Default","path":"videoShareAppStack/Domain/AccessPolicy/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.189.1","metadata":[]}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"videoShareAppStack/Domain/AccessPolicy/CustomResourcePolicy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/Domain/AccessPolicy/CustomResourcePolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"es:UpdateDomainConfig","Effect":"Allow","Resource":{"Fn::GetAtt":["Domain66AC69E0","Arn"]}}],"Version":"2012-10-17"},"policyName":"DomainAccessPolicyCustomResourcePolicyE61F1845","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchservice.Domain","version":"2.189.1","metadata":[]}},"OpensearchIndexCreatorLambda":{"id":"OpensearchIndexCreatorLambda","path":"videoShareAppStack/OpensearchIndexCreatorLambda","children":{"ServiceRole":{"id":"ServiceRole","path":"videoShareAppStack/OpensearchIndexCreatorLambda/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"videoShareAppStack/OpensearchIndexCreatorLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/OpensearchIndexCreatorLambda/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.189.1"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"videoShareAppStack/OpensearchIndexCreatorLambda/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/OpensearchIndexCreatorLambda/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["es:ESHttpDelete","es:ESHttpGet","es:ESHttpHead","es:ESHttpPatch","es:ESHttpPost","es:ESHttpPut"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Domain66AC69E0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Domain66AC69E0","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"OpensearchIndexCreatorLambdaServiceRoleDefaultPolicy84C8CE29","roles":[{"Ref":"OpensearchIndexCreatorLambdaServiceRole6C6F5234"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.189.1","metadata":[]}},"Code":{"id":"Code","path":"videoShareAppStack/OpensearchIndexCreatorLambda/Code","children":{"Stage":{"id":"Stage","path":"videoShareAppStack/OpensearchIndexCreatorLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.189.1"}},"AssetBucket":{"id":"AssetBucket","path":"videoShareAppStack/OpensearchIndexCreatorLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.189.1"}},"Resource":{"id":"Resource","path":"videoShareAppStack/OpensearchIndexCreatorLambda/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"b66aabfefd9d97bfce5a69de7ba0972f97f85388774718ec7a4f74f5147ffecf.zip"},"environment":{"variables":{"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","role":{"Fn::GetAtt":["OpensearchIndexCreatorLambdaServiceRole6C6F5234","Arn"]},"runtime":"nodejs16.x"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.189.1","metadata":[]}},"CustomResourceLambdaProvider":{"id":"CustomResourceLambdaProvider","path":"videoShareAppStack/CustomResourceLambdaProvider","children":{"framework-onEvent":{"id":"framework-onEvent","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent","children":{"ServiceRole":{"id":"ServiceRole","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.189.1"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["OpensearchIndexCreatorLambda51E997E5","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["OpensearchIndexCreatorLambda51E997E5","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["OpensearchIndexCreatorLambda51E997E5","Arn"]}}],"Version":"2012-10-17"},"policyName":"CustomResourceLambdaProviderframeworkonEventServiceRoleDefaultPolicy73212483","roles":[{"Ref":"CustomResourceLambdaProviderframeworkonEventServiceRole5DB82C4E"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.189.1","metadata":[]}},"Code":{"id":"Code","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/Code","children":{"Stage":{"id":"Stage","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.189.1"}},"AssetBucket":{"id":"AssetBucket","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.189.1"}},"Resource":{"id":"Resource","path":"videoShareAppStack/CustomResourceLambdaProvider/framework-onEvent/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (videoShareAppStack/CustomResourceLambdaProvider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OpensearchIndexCreatorLambda51E997E5","Arn"]}}},"handler":"framework.onEvent","role":{"Fn::GetAtt":["CustomResourceLambdaProviderframeworkonEventServiceRole5DB82C4E","Arn"]},"runtime":"nodejs20.x","timeout":900}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.189.1"}},"OpenSearchVideoIndex":{"id":"OpenSearchVideoIndex","path":"videoShareAppStack/OpenSearchVideoIndex","children":{"Default":{"id":"Default","path":"videoShareAppStack/OpenSearchVideoIndex/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.189.1","metadata":[]}},"MediaConvertEventHandler":{"id":"MediaConvertEventHandler","path":"videoShareAppStack/MediaConvertEventHandler","children":{"ServiceRole":{"id":"ServiceRole","path":"videoShareAppStack/MediaConvertEventHandler/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"videoShareAppStack/MediaConvertEventHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/MediaConvertEventHandler/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.189.1"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"videoShareAppStack/MediaConvertEventHandler/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/MediaConvertEventHandler/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["VideoTableE38FEE4B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["VideoTableE38FEE4B","Arn"]},"/index/*"]]}]},{"Action":"s3:DeleteObject*","Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["UploadBucketD2C1DA78","Arn"]},"/*"]]}},{"Action":["es:ESHttpDelete","es:ESHttpGet","es:ESHttpHead","es:ESHttpPatch","es:ESHttpPost","es:ESHttpPut"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Domain66AC69E0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Domain66AC69E0","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"MediaConvertEventHandlerServiceRoleDefaultPolicyC00EFDA8","roles":[{"Ref":"MediaConvertEventHandlerServiceRoleE14AC5A9"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.189.1","metadata":[]}},"Code":{"id":"Code","path":"videoShareAppStack/MediaConvertEventHandler/Code","children":{"Stage":{"id":"Stage","path":"videoShareAppStack/MediaConvertEventHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.189.1"}},"AssetBucket":{"id":"AssetBucket","path":"videoShareAppStack/MediaConvertEventHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.189.1"}},"Resource":{"id":"Resource","path":"videoShareAppStack/MediaConvertEventHandler/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"be3472459bb730dbdcb74cfd205bee4ad0ed1e087c037b97ff5f82a5a8d09e02.zip"},"environment":{"variables":{"UPLOAD_BUCKET_NAME":{"Ref":"UploadBucketD2C1DA78"},"UPLOAD_BUCKET_REGION":"us-east-1","VIDEO_TABLE_NAME":{"Ref":"VideoTableE38FEE4B"},"VIDEO_TABLE_REGION":"us-east-1","OPENSEARCH_ENDPOINT":{"Fn::Join":["",["https://",{"Fn::GetAtt":["Domain66AC69E0","DomainEndpoint"]}]]},"OPENSEARCH_REGION":"us-east-1","AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","role":{"Fn::GetAtt":["MediaConvertEventHandlerServiceRoleE14AC5A9","Arn"]},"runtime":"nodejs16.x"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.189.1","metadata":[]}},"videoCrudHandler":{"id":"videoCrudHandler","path":"videoShareAppStack/videoCrudHandler","children":{"ServiceRole":{"id":"ServiceRole","path":"videoShareAppStack/videoCrudHandler/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"videoShareAppStack/videoCrudHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/videoCrudHandler/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.189.1"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"videoShareAppStack/videoCrudHandler/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/videoCrudHandler/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["VideoTableE38FEE4B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["VideoTableE38FEE4B","Arn"]},"/index/*"]]}]},{"Action":["s3:Abort*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["UploadBucketD2C1DA78","Arn"]},"/*"]]}},{"Action":["es:ESHttpDelete","es:ESHttpGet","es:ESHttpHead","es:ESHttpPatch","es:ESHttpPost","es:ESHttpPut"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Domain66AC69E0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Domain66AC69E0","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"videoCrudHandlerServiceRoleDefaultPolicy036705A3","roles":[{"Ref":"videoCrudHandlerServiceRoleD72AEFFA"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.189.1","metadata":[]}},"Code":{"id":"Code","path":"videoShareAppStack/videoCrudHandler/Code","children":{"Stage":{"id":"Stage","path":"videoShareAppStack/videoCrudHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.189.1"}},"AssetBucket":{"id":"AssetBucket","path":"videoShareAppStack/videoCrudHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.189.1"}},"Resource":{"id":"Resource","path":"videoShareAppStack/videoCrudHandler/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"e2a1862b56acb356a22b50bb92256781baa39d01d7294cd70987a42580e51d15.zip"},"environment":{"variables":{"VIDEO_TABLE_NAME":{"Ref":"VideoTableE38FEE4B"},"VIDEO_TABLE_REGION":"us-east-1","UPLOAD_BUCKET_NAME":{"Ref":"UploadBucketD2C1DA78"},"UPLOAD_BUCKET_REGION":"us-east-1","OPENSEARCH_ENDPOINT":{"Fn::Join":["",["https://",{"Fn::GetAtt":["Domain66AC69E0","DomainEndpoint"]}]]},"OPENSEARCH_REGION":"us-east-1","AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","role":{"Fn::GetAtt":["videoCrudHandlerServiceRoleD72AEFFA","Arn"]},"runtime":"nodejs16.x"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.189.1","metadata":[]}},"S3EventListener":{"id":"S3EventListener","path":"videoShareAppStack/S3EventListener","children":{"ServiceRole":{"id":"ServiceRole","path":"videoShareAppStack/S3EventListener/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"videoShareAppStack/S3EventListener/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/S3EventListener/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.189.1"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"videoShareAppStack/S3EventListener/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/S3EventListener/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["VideoTableE38FEE4B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["VideoTableE38FEE4B","Arn"]},"/index/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UploadBucketD2C1DA78","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadBucketD2C1DA78","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"S3EventListenerServiceRoleDefaultPolicy152B7679","roles":[{"Ref":"S3EventListenerServiceRoleFC2ED358"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.189.1","metadata":[]}},"Code":{"id":"Code","path":"videoShareAppStack/S3EventListener/Code","children":{"Stage":{"id":"Stage","path":"videoShareAppStack/S3EventListener/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.189.1"}},"AssetBucket":{"id":"AssetBucket","path":"videoShareAppStack/S3EventListener/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.189.1"}},"Resource":{"id":"Resource","path":"videoShareAppStack/S3EventListener/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"ae3c81b609c1dc4241b1a5137c1c6e8a181d02ef73c6fe33231082da4971632b.zip"},"environment":{"variables":{"VIDEO_TABLE_REGION":"us-east-1","VIDEO_TABLE_NAME":{"Ref":"VideoTableE38FEE4B"},"MEDIA_INFO_CLI_PATH":"./mediainfo","UPLOAD_BUCKET_NAME":{"Ref":"UploadBucketD2C1DA78"},"UPLOAD_BUCKET_REGION":"us-east-1","MEDIA_CONVERT_ENDPOINT":"https://mediaconvert.us-east-1.amazonaws.com","MEDIA_CONVERT_OUTPUT_BUCKET":{"Ref":"StreamBucketB0BF20E3"},"MEDIA_CONVERT_REGION":"us-east-1","MEDIA_CONVERT_ROLE_ARN":{"Fn::GetAtt":["MediaConvertRole031A64A9","Arn"]},"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","role":{"Fn::GetAtt":["S3EventListenerServiceRoleFC2ED358","Arn"]},"runtime":"nodejs16.x","timeout":15}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.189.1","metadata":[]}},"MediaConvertJobStateChangeRule":{"id":"MediaConvertJobStateChangeRule","path":"videoShareAppStack/MediaConvertJobStateChangeRule","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/MediaConvertJobStateChangeRule/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.mediaconvert"],"detail-type":["MediaConvert Job State Change"],"detail":{"status":["ERROR","COMPLETE","PROGRESSING"]}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["MediaConvertEventHandler64EEE6F6","Arn"]}}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.189.1"}},"AllowEventRulevideoShareAppStackMediaConvertEventHandler07CA328F":{"id":"AllowEventRulevideoShareAppStackMediaConvertEventHandler07CA328F","path":"videoShareAppStack/MediaConvertJobStateChangeRule/AllowEventRulevideoShareAppStackMediaConvertEventHandler07CA328F","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MediaConvertEventHandler64EEE6F6","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["MediaConvertJobStateChangeRule91849DCD","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.189.1","metadata":[]}},"videoShareApi":{"id":"videoShareApi","path":"videoShareAppStack/videoShareApi","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/videoShareApi/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"videoShareApi"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.189.1"}},"Default":{"id":"Default","path":"videoShareAppStack/videoShareApi/Default","children":{"video":{"id":"video","path":"videoShareAppStack/videoShareApi/Default/video","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/videoShareApi/Default/video/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["videoShareApi9A883B3F","RootResourceId"]},"pathPart":"video","restApiId":{"Ref":"videoShareApi9A883B3F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.189.1"}},"ANY":{"id":"ANY","path":"videoShareAppStack/videoShareApi/Default/video/ANY","children":{"ApiPermission.videoShareAppStackvideoShareApiA52240AF.ANY..video":{"id":"ApiPermission.videoShareAppStackvideoShareApiA52240AF.ANY..video","path":"videoShareAppStack/videoShareApi/Default/video/ANY/ApiPermission.videoShareAppStackvideoShareApiA52240AF.ANY..video","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["videoCrudHandler7E149798","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"videoShareApi9A883B3F"},"/",{"Ref":"videoShareApiDevStage5E9D01F2"},"/*/video"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.189.1"}},"ApiPermission.Test.videoShareAppStackvideoShareApiA52240AF.ANY..video":{"id":"ApiPermission.Test.videoShareAppStackvideoShareApiA52240AF.ANY..video","path":"videoShareAppStack/videoShareApi/Default/video/ANY/ApiPermission.Test.videoShareAppStackvideoShareApiA52240AF.ANY..video","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["videoCrudHandler7E149798","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"videoShareApi9A883B3F"},"/test-invoke-stage/*/video"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.189.1"}},"Resource":{"id":"Resource","path":"videoShareAppStack/videoShareApi/Default/video/ANY/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"ANY","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["videoCrudHandler7E149798","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"videoShareApivideo72B2DF10"},"restApiId":{"Ref":"videoShareApi9A883B3F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.189.1","metadata":[]}},"videoShareApiDevDeployment":{"id":"videoShareApiDevDeployment","path":"videoShareAppStack/videoShareApiDevDeployment","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/videoShareApiDevDeployment/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"videoShareApi9A883B3F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.189.1","metadata":[]}},"videoShareApiDevStage":{"id":"videoShareApiDevStage","path":"videoShareAppStack/videoShareApiDevStage","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/videoShareApiDevStage/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"videoShareApiDevDeploymentEFBD847A766a2953d71e0fbcfa17654976fa2b9c"},"restApiId":{"Ref":"videoShareApi9A883B3F"},"stageName":"dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.189.1","metadata":[]}},"BucketNotificationsHandler050a0587b7544547bf325f094a3db834":{"id":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834","path":"videoShareAppStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834","children":{"Role":{"id":"Role","path":"videoShareAppStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role","children":{"ImportRole":{"id":"ImportRole","path":"videoShareAppStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.189.1"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"videoShareAppStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3:PutBucketNotification","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36","roles":[{"Ref":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.189.1"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"AWS679f53fac002430cb0da5b7982bd2287":{"id":"AWS679f53fac002430cb0da5b7982bd2287","path":"videoShareAppStack/AWS679f53fac002430cb0da5b7982bd2287","children":{"ServiceRole":{"id":"ServiceRole","path":"videoShareAppStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"videoShareAppStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.189.1","metadata":[]}},"Resource":{"id":"Resource","path":"videoShareAppStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.189.1","metadata":[]}},"Code":{"id":"Code","path":"videoShareAppStack/AWS679f53fac002430cb0da5b7982bd2287/Code","children":{"Stage":{"id":"Stage","path":"videoShareAppStack/AWS679f53fac002430cb0da5b7982bd2287/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.189.1"}},"AssetBucket":{"id":"AssetBucket","path":"videoShareAppStack/AWS679f53fac002430cb0da5b7982bd2287/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.189.1","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.189.1"}},"Resource":{"id":"Resource","path":"videoShareAppStack/AWS679f53fac002430cb0da5b7982bd2287/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"9d043014be736e8162bcc7ec5590cc6d2ff24fd0d9c73a5c5d595151c5fdad00.zip"},"handler":"index.handler","role":{"Fn::GetAtt":["AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2","Arn"]},"runtime":"nodejs20.x","timeout":120}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.189.1","metadata":[]}},"S3EventListenerPolicy#passRole":{"id":"S3EventListenerPolicy#passRole","path":"videoShareAppStack/S3EventListenerPolicy#passRole","children":{"Resource":{"id":"Resource","path":"videoShareAppStack/S3EventListenerPolicy#passRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["iam:PassRole","mediaconvert:CreateJob"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"S3EventListenerPolicypassRole3F7D4A5A","roles":[{"Ref":"S3EventListenerServiceRoleFC2ED358"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.189.1","metadata":[]}},"CDKMetadata":{"id":"CDKMetadata","path":"videoShareAppStack/CDKMetadata","children":{"Default":{"id":"Default","path":"videoShareAppStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.189.1"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"videoShareAppStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.189.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"videoShareAppStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.189.1"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.189.1"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.189.1"}}}